{% extends "base.html" %}
{% block title %}{% include "item-title.html" %}{% endblock %}
{% block canonical %}{{ url_for('view_item', iid=item.id) }}{% endblock %}
{% block metadata %}
  <meta name="og:title" content="{{ title }}" />
  <meta name="twitter:title" content="{{ title }}" />
  <meta name="og:description" content="{{ item.description }}" />
  <meta name="twitter:description" content="{{ item.description }}" />
  <meta name="description" content="{{ item.description }}" />
  {% if item.image %}
    <meta name="og:image" content="{{ url_for('serve_media', filename=item.image) }}" />
    <meta name="twitter:image" content="{{ url_for('serve_media', filename=item.image) }}" />
    <meta name="twitter:card" content="summary_large_image" />
  {% elif item.video %}
    <meta name="og:video" content="{{ url_for('serve_media', filename=item.video) }}" />
  {% endif %}
{% endblock %}
{% block content %}
  <div class="uk-flex uk-flex-wrap">
    <div class="uk-width-1-1 uk-width-1-2@s uk-padding-small">
      {% with full=true %}
        {% include "item-content.html" %}
      {% endwith %}
    </div>
    <div class="uk-width-1-1 uk-width-1-2@s uk-padding-small">
      <h3>{% include "item-title.html" %}</h3>
      by <a href="{{ url_for('view_user', username=item.creator) }}">{{ item.creator }}</a>
      <!-- at <span>{{ item.datetime }}</span> -->
      <div class="uk-text-truncate">
        <a href="{{ item.link }}" target="_blank">{{ item.link }}</a>
      </div>
      <p class="uk-text-break" style="white-space: pre-line;">{{ item.description }}</p>
      <div class="uk-margin">
        <a class="uk-button uk-button-default uk-icon-link" href="{{ url_for('add_item') }}?item={{ item.id }}" rel="nofollow">
          Edit
          <span uk-icon="icon: file-edit"></span>
        </a>
        <a class="uk-button uk-button-danger" href="{{ url_for('remove_item') }}?item={{ item.id }}" rel="nofollow">
          Delete
          <span uk-icon="icon: trash"></span>
        </a>
      </div>
    </div>
  </div>
{% endblock %}